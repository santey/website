<!DOCTYPE html><html><head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=Edge">
        <meta name="description">
        <meta name="keywords" content="static content generator,static site generator,static site,HTML,web development,.NET,C#,Razor,Markdown,YAML">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="shortcut icon" href="/assets/img/favicon.ico" type="image/x-icon">
        <link rel="icon" href="/assets/img/favicon.ico" type="image/x-icon">
        <title>Cake - Preprocessor Directives</title>
        <link href="/assets/css/highlight.css" rel="stylesheet">
        <link href="/assets/css/bootstrap/bootstrap.css" rel="stylesheet">
        <link href="/assets/css/adminlte/AdminLTE.css" rel="stylesheet">
        <link href="/assets/css/theme/theme.css" rel="stylesheet">
        <link href="//fonts.googleapis.com/css?family=Roboto+Mono:400,700|Roboto:400,400i,700,700i" rel="stylesheet">
        <link href="/assets/css/font-awesome.min.css" rel="stylesheet" type="text/css">
        <link href="/assets/css/override.css" rel="stylesheet">
        <script src="/assets/js/jquery-2.2.3.min.js"></script>
        <script src="/assets/js/bootstrap.min.js"></script>        
        <script src="/assets/js/app.min.js"></script>         
        <script src="/assets/js/highlight.pack.js"></script>   
        <script src="/assets/js/jquery.slimscroll.min.js"></script>
        <script src="/assets/js/jquery.sticky-kit.min.js"></script>
        <script src="/assets/js/mermaid.min.js"></script>
        <script src="/assets/js/svg-pan-zoom.min.js"></script>
        <!--[if lt IE 9]>
        <script src="/assets/js/html5shiv.min.js"></script>
        <script src="/assets/js/respond.min.js"></script>
        <![endif]-->  

        <script type="text/javascript" src="/assets/js/anchor.min.js"></script>
    </head>
    <body class="hold-transition wyam layout-boxed  ">    
        <div class="top-banner"></div>
        <div class="wrapper with-container">
            <!-- Header -->
            <header class="main-header">   
                     
                <a href="/" class="logo">

                                <!-- mini logo for sidebar mini 50x50 pixels -->
                                <span class="logo-mini"><img src="/assets/img/logo.png"></span>
                                <!-- logo for regular state and mobile devices -->
                                <span class="logo-lg"><img src="/assets/img/logo.png"></span>
                                            </a>   
                         
                <nav class="navbar navbar-static-top" role="navigation">
                    <!-- Sidebar toggle button-->
                        <a href="#" class="sidebar-toggle visible-xs-block" data-toggle="offcanvas" role="button">
                            <span class="sr-only">Toggle side menu</span>
                            <i class="fa fa-chevron-circle-right"></i>
                        </a>
                                        
                    <div class="navbar-header">
                        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse">
                            <span class="sr-only">Toggle side menu</span>
                            <i class="fa fa-chevron-circle-down"></i>
                        </button>
                    </div>
            
                    <!-- Collect the nav links, forms, and other content for toggling -->
                    <div class="collapse navbar-collapse pull-left" id="navbar-collapse">
                        <ul class="nav navbar-nav">                            
                                    <li><a href="/blog">Blog</a></li>
        <li class="active"><a href="/docs">Documentation</a></li>
        <li><a href="/dsl">Reference</a></li>
        <li><a href="/addins">Addins</a></li>
        <li><a href="/api">API</a></li>
        <li><a href="/faq">FAQ</a></li>
        <li><a href="https://github.com/cake-build/cake"><i class="fa fa-github"></i> Source</a></li>
 
                        </ul>       
                    </div>
                    <!-- /.navbar-collapse -->
                
                    <!-- Navbar Right Menu -->
                </nav>
            </header>
            
            <!-- Left side column. contains the logo and sidebar -->
            <aside class="main-sidebar ">
                <section class="infobar" data-spy="affix" data-offset-top="60" data-offset-bottom="200"> 
                    	
        <div><p><a href="https://github.com/cake-build/website/blob/develop/input/docs/fundamentals/preprocessor-directives.md"><i class="fa fa-pencil-square" aria-hidden="true"></i> Edit Content</a></p></div>
    <div id="infobar-headings"><h6>On This Page</h6><p><a href="#add-in-directive">Add-in directive</a></p>
<p><a href="#load-directive">Load directive</a></p>
<p><a href="#reference-directive">Reference directive</a></p>
<p><a href="#tool-directive">Tool directive</a></p>
<p><a href="#shebang-directive">Shebang directive</a></p>
<p><a href="#break-directive">Break directive</a></p>
<p><a href="#using-static-directive">Using static directive</a></p>
<p><a href="#module-directive">Module directive</a></p>
<p><a href="#define-directive">Define directive</a></p>
<hr class="infobar-hidden">
</div>

                </section>
                <section class="sidebar">    
                                     
                    

                    <ul class="sidebar-menu">
                        

                <li class="treeview">
                    <a href="/docs/overview">Overview</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/docs/overview/features">Features</a></li>
                <li><a href="/docs/overview/requirements">Requirements</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/docs/tutorials">Tutorials</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/docs/tutorials/getting-started">Getting Started</a></li>
                <li><a href="/docs/tutorials/setting-up-a-new-project">Setting Up A New Project</a></li>
                <li><a href="/docs/tutorials/powershell-security">Powershell Security</a></li>
                <li><a href="/docs/tutorials/extending-the-bootstrapper">Extending The Bootstrapper</a></li>
                <li><a href="/docs/tutorials/using-cake-pre-release">Using Cake Pre Release</a></li>
                <li><a href="/docs/tutorials/pinning-cake-version">Pinning Cake Version</a></li>

                    </ul>
                </li>
                <li class="treeview active">
                    <a href="/docs/fundamentals">Fundamentals</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/docs/fundamentals/tasks">Tasks</a></li>
                <li><a href="/docs/fundamentals/dependencies">Dependencies</a></li>
                <li><a href="/docs/fundamentals/criteria">Criteria</a></li>
                <li><a href="/docs/fundamentals/error-handling">Error Handling</a></li>
                <li><a href="/docs/fundamentals/finally-block">Finally Block</a></li>
                <li><a href="/docs/fundamentals/asynchronous-tasks">Asynchronous Tasks</a></li>
                <li><a href="/docs/fundamentals/setup-and-teardown">Setup And Teardown</a></li>
                <li><a href="/docs/fundamentals/running-targets">Running Targets</a></li>
                <li><a href="/docs/fundamentals/args-and-environment-vars">Arguments And Environment Variables</a></li>
                <li><a href="/docs/fundamentals/aliases">Script Aliases</a></li>
                <li class="selected"><a href="/docs/fundamentals/preprocessor-directives">Preprocessor Directives</a></li>
                <li><a href="/docs/fundamentals/configuration">Configuration</a></li>
                <li><a href="/docs/fundamentals/default-configuration-values">Default Configuration Values</a></li>
                <li><a href="/docs/fundamentals/modules">Modules</a></li>
                <li><a href="/docs/fundamentals/sharing-build-state">Sharing Build State</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/docs/tools">Tools</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/docs/tools/installing-tools">Installing Tools</a></li>
                <li><a href="/docs/tools/tool-resolution">Tool Resolution</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/docs/cli">The Command Line</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/docs/cli/usage">Usage Information</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/docs/editors">Editors</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/docs/editors/atom">Atom</a></li>
                <li><a href="/docs/editors/vscode">Visual Studio Code</a></li>
                <li><a href="/docs/editors/visualstudio">Visual Studio</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/docs/build-systems">Build Systems</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/docs/build-systems/azure-devops">Azure DevOps</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/docs/contributing">Contributing</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/docs/contributing/contribution-guidelines">Contribution Guidelines</a></li>
                <li><a href="/docs/contributing/documentation">Documentation</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/docs/resources">Resources</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/docs/resources/videos">Videos</a></li>
                <li><a href="/docs/resources/training">Training</a></li>
                <li><a href="/docs/resources/presentations">Presentations</a></li>
                <li><a href="/docs/resources/podcasts">Podcasts</a></li>
                <li><a href="/docs/resources/blogs">Blog Posts</a></li>
                <li><a href="/docs/resources/in-the-news">In The News</a></li>

                    </ul>
                </li>

                    </ul>
                            
                </section>                
            </aside>
            
            <!-- Content Wrapper. Contains page content -->
            <div class="content-wrapper">
                



		<section class="content-header">
			<h1>Preprocessor Directives</h1>
		</section>
	<section class="content">
		<p>Cake scripts have support for pre-processor line directives, which run before the script is executed.
These can be used to reference other scripts, assemblies, namespaces and more.</p>
<h1 id="add-in-directive">Add-in directive</h1>
<p>The add-in directive is used to install and reference assemblies using NuGet.</p>
<h2 id="usage">Usage</h2>
<p>The directive takes a single package URI parameter
Right now, only NuGet packages are supported.</p>
<pre><code class="language-csharp">#addin nuget:?package=Cake.Foo
#addin nuget:?package=Cake.Foo&amp;version=1.2.3
#addin nuget:?package=Cake.Foo&amp;prerelease
#addin nuget:https://myget.org/f/Cake/?package=Cake.Foo&amp;prerelease
// Local feed
#addin nuget:file://localhost/packages/?package=Cake.Foo
#addin nuget:file://localhost/packages/?package=Cake.Foo&amp;version=1.2.3
#addin nuget:file://localhost/packages/?package=Cake.Foo&amp;prerelease
</code></pre>
<h3 id="dependencies">Dependencies</h3>
<p>From Cake version 0.22.0 there's an option to fetch and load NuGet dependencies</p>
<pre><code class="language-csharp">#addin nuget:?package=foo&amp;loaddependencies=true
or
#addin nuget:?package=foo.bar&amp;loaddependencies=false
</code></pre>
<p>This feature requires Cake to be <a href="/docs/fundamentals/configuration">configured</a> to not use <code>nuget.exe</code> but instead let Cake handle NuGet installation in-process.</p>
<h3 id="include-and-exclude-options">Include and Exclude Options:</h3>
<pre><code class="language-csharp">#addin nuget:?package=Cake.Foo&amp;include=/**/NoFoo.dll
or
#addin nuget:?package=Cake.Foo&amp;exclude=/**/Foo.dll
</code></pre>
<h1 id="load-directive">Load directive</h1>
<p>The load directive is used to reference external Cake scripts. Useful i.e. if you have common utility functions.
Starting from 0.18.0 you can also load cake scripts from nuget.</p>
<h2 id="usage-1">Usage</h2>
<p>The directive has one parameter which is the location to the script which optionally includes a scheme: <code>local</code> or <code>nuget</code>. The default is <code>local</code>.</p>
<h3 id="default">Default:</h3>
<pre><code class="language-csharp">#l "scripts/utilities.cake"
or
#load "scripts/utilities.cake"
</code></pre>
<p>Attempts to load <code>utilities.cake</code> from <code>scripts</code> directory.</p>
<h3 id="local-scheme">Local scheme:</h3>
<pre><code class="language-csharp">#l "local:?path=scripts/utilities.cake"
or
#load "local:?path=scripts/utilities.cake"
</code></pre>
<p>Attempts to load <code>utilities.cake</code> from <code>scripts</code> directory</p>
<h3 id="nuget-scheme">Nuget scheme:</h3>
<pre><code class="language-csharp">#l "nuget:?package=utilities.cake"
or
#load "nuget:?package=utilities.cake"
</code></pre>
<p>Attempts to load <code>utilities.cake</code> from nuget</p>
<h3 id="include-and-exclude-options-1">Include and Exclude Options:</h3>
<pre><code class="language-csharp">#load nuget:?package=utilities.cake&amp;include=/**/NoFoo.cake
or
#load nuget:?package=utilities.cake&amp;exclude=/**/Foo.cake
</code></pre>
<h1 id="reference-directive">Reference directive</h1>
<p>The reference directive is used to reference external assemblies for use in your scripts.</p>
<h2 id="usage-2">Usage</h2>
<p>The directive has one parameter which is the path to the dll to load.</p>
<pre><code class="language-csharp">#r "bin/myassembly.dll"
or
#reference "bin/myassembly.dll"
</code></pre>
<h1 id="tool-directive">Tool directive</h1>
<p>The tool directive installs external command-line tools using NuGet.</p>
<h2 id="usage-3">Usage</h2>
<p>The directive takes a single package URI parameter
Right now, only NuGet packages are supported.
Specify the <code>include</code> parameter if the executable does not end with .exe</p>
<pre><code class="language-csharp">#tool nuget:?package=Cake.Foo
#tool nuget:?package=Cake.Foo&amp;version=1.2.3
#tool nuget:?package=Cake.Foo&amp;prerelease
#tool nuget:https://myget.org/f/Cake/?package=Cake.Foo&amp;prerelease
#tool nuget:?package=Cake.Foo&amp;include=path/to/foo.cmd
// Local feed
#tool nuget:file://localhost/packages/?package=Cake.Foo
#tool nuget:file://localhost/packages/?package=Cake.Foo&amp;version=1.2.3
#tool nuget:file://localhost/packages/?package=Cake.Foo&amp;prerelease
</code></pre>
<h3 id="include-and-exclude-options-2">Include and Exclude Options:</h3>
<pre><code class="language-csharp">#tool nuget:?package=Cake.Foo&amp;include=/**/NoFoo.exe
or
#tool nuget:?package=Cake.Foo&amp;exclude=/**/Foo.exe
</code></pre>
<h1 id="shebang-directive">Shebang directive</h1>
<p>Under Unix-like operating systems, when a script with a shebang is run as a program, the program loader parses the rest of the script's initial line as an interpreter directive; the specified interpreter program is run instead, passing to it as an argument the path that was initially used when attempting to run the script.</p>
<p>These are only used for shells to identify how to run the script and are omitted when Cake compiles the script.</p>
<h2 id="usage-4">Usage</h2>
<pre><code class="language-bash">#!path/to/launch/cake
</code></pre>
<h1 id="break-directive">Break directive</h1>
<p>The break directive, when placed on any line within your Cake file, will cause <code>System.Diagnostics.Debugger.Break();</code> to be emitted at runtime.  As a result, when used in conjunction with the <code>-debug</code> parameter (which can be passed into the Cake.exe), the debugger will automatically stop on these lines.</p>
<p><strong>NOTE:</strong> If the debugger is not currently attached, then the <code>#break</code> directive is simply ignored.</p>
<h2 id="usage-5">Usage</h2>
<pre><code class="language-bash">#break
</code></pre>
<h1 id="using-static-directive">Using static directive</h1>
<p>The using static directive allows referencing a type's static members without needed to specify the type name.</p>
<h2 id="usage-6">Usage</h2>
<pre><code class="language-csharp">using static System.Math;

Information(Round(1.1));
</code></pre>
<h1 id="module-directive">Module directive</h1>
<p>The module directive lets you boostrap Cake modules by downloading them from a NuGet source.</p>
<h2 id="usage-7">Usage</h2>
<pre><code class="language-cake">#module nuget:?package=Cake.UrlLoadDirective.Module&amp;version=1.0.2
</code></pre>
<p>As modules can change and extend the internals of Cake, this bootstrapping needs to be done before Cake executes. This is solved by bootrapping being it's own step by invoking Cake with a <code>--bootstrap</code> argument before you execute the script normally.</p>
<pre><code class="language-bash">./cake.exe build.cake --bootstrap
./cake.exe build.cake
</code></pre>
<h1 id="define-directive">Define directive</h1>
<p>The define directive - <code>#define</code> creates a symbol, it can be later use to decide, what Cake will execute. You use it like <code>#define</code> in C#.
To check if symbol is defined, you have to use directives <code>#if</code> ... <code>#else</code> ... <code>#endif</code></p>
<h2 id="usage-8">Usage</h2>
<pre><code class="language-csharp">#define FOO

#if (FOO)
    // code in this branch will execute
#else
    // code in this branch will be skipped
#endif
</code></pre>

	</section>
                
            </div>           
            
            <!-- Footer -->
            <footer class="main-footer">
            </footer>
            
        </div>
        <div class="wrapper bottom-wrapper">
            <footer class="bottom-footer">
                <p class="text-muted">
    <a href="https://github.com/cake-build/cake"><i class="fa fa-github"></i> GitHub</a> |
    <a href="https://twitter.com/cakebuildnet"><i class="fa fa-twitter"></i> Twitter</a> |
    <a href="https://gitter.im/cake-build/cake"><i class="fa fa-comment"></i> Gitter</a>
    <br>
    Copyright © <a href="http://dotnetfoundation.org">.NET Foundation</a> and contributors.
    <br>
    Generated by <a href="http://wyam.io">Wyam</a>
</p>

<script>
    anchors.add();
</script>
            </footer>
        </div>
        <a href="javascript:" id="return-to-top"><i class="fa fa-chevron-up"></i></a>
        <!-- Gitter -->
<script>
    ((window.gitter = {}).chat = {}).options = {
        room: 'cake-build/cake'
    };
</script>
<script src="https://sidecar.gitter.im/dist/sidecar.v1.js" async="" defer=""></script>

<!-- Google Analytics -->
<script>
    (function (i, s, o, g, r, a, m) {
        i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
            (i[r].q = i[r].q || []).push(arguments)
        }, i[r].l = 1 * new Date(); a = s.createElement(o),
            m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
    })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');
    ga('create', 'UA-60516413-1', 'auto');
    ga('send', 'pageview');
</script>
        <script>           
            // Close the sidebar if we select an anchor link
            $(".main-sidebar a[href^='#']:not('.expand')").click(function(){
                $(document.body).removeClass('sidebar-open');
            });
            
            $(document).ready(function() {
                mermaid.initialize(
                {
                    flowchart:
                    {
                        useMaxWidth: false
                    },
					startOnLoad: false,
					cloneCssStyles: false
                });     
                mermaid.init(undefined, ".mermaid");

                // Remove the max-width setting that Mermaid sets
                var mermaidSvg = $('.mermaid svg');
                mermaidSvg.addClass('img-responsive');
                mermaidSvg.css('max-width', '');

                // Make it scrollable
				var target = document.querySelector(".mermaid svg");
				if(target !== null)
				{
					var panZoom = window.panZoom = svgPanZoom(target, {
						zoomEnabled: true,
						controlIconsEnabled: true,
						fit: true,
						center: true,
                        maxZoom: 20,
                        zoomScaleSensitivity: 0.6
					});			                          

                    // Do the reset once right away to fit the diagram
                    panZoom.resize();
                    panZoom.fit();
                    panZoom.center();
                    
                    $(window).resize(function(){
                        panZoom.resize();
                        panZoom.fit();
                        panZoom.center();
                    });
				}
                
                $('pre code').each(function(i, block) {
                    hljs.highlightBlock(block);
                });  
            });

            hljs.initHighlightingOnLoad();

            // Back to top
            $(window).scroll(function() {
                if ($(this).scrollTop() >= 200) {        // If page is scrolled more than 50px
                    $('#return-to-top').fadeIn(1000);    // Fade in the arrow
                } else {
                    $('#return-to-top').fadeOut(1000);   // Else fade out the arrow
                }
            });
            $('#return-to-top').click(function() {      // When arrow is clicked
                $('body,html').animate({
                    scrollTop : 0                       // Scroll to top of body
                }, 500);
            });
        </script>
    
</body></html>