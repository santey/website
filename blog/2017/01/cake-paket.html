<!DOCTYPE html><html><head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=Edge">
        <meta name="description">
        <meta name="keywords" content="static content generator,static site generator,static site,HTML,web development,.NET,C#,Razor,Markdown,YAML">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="shortcut icon" href="/assets/img/favicon.ico" type="image/x-icon">
        <link rel="icon" href="/assets/img/favicon.ico" type="image/x-icon">
        <title>Cake - Cake.Paket - An Addin and Module to Add Support for Paket in Cake</title>
        <link href="/assets/css/highlight.css" rel="stylesheet">
        <link href="/assets/css/bootstrap/bootstrap.css" rel="stylesheet">
        <link href="/assets/css/adminlte/AdminLTE.css" rel="stylesheet">
        <link href="/assets/css/theme/theme.css" rel="stylesheet">
        <link href="//fonts.googleapis.com/css?family=Roboto+Mono:400,700|Roboto:400,400i,700,700i" rel="stylesheet">
        <link href="/assets/css/font-awesome.min.css" rel="stylesheet" type="text/css">
        <link href="/assets/css/override.css" rel="stylesheet">
        <script src="/assets/js/jquery-2.2.3.min.js"></script>
        <script src="/assets/js/bootstrap.min.js"></script>        
        <script src="/assets/js/app.min.js"></script>         
        <script src="/assets/js/highlight.pack.js"></script>   
        <script src="/assets/js/jquery.slimscroll.min.js"></script>
        <script src="/assets/js/jquery.sticky-kit.min.js"></script>
        <script src="/assets/js/mermaid.min.js"></script>
        <script src="/assets/js/svg-pan-zoom.min.js"></script>
        <!--[if lt IE 9]>
        <script src="/assets/js/html5shiv.min.js"></script>
        <script src="/assets/js/respond.min.js"></script>
        <![endif]-->  

        <script type="text/javascript" src="/assets/js/anchor.min.js"></script>
    </head>
    <body class="hold-transition wyam layout-boxed  ">    
        <div class="top-banner"></div>
        <div class="wrapper with-container">
            <!-- Header -->
            <header class="main-header">   
                     
                <a href="/" class="logo">

                                <!-- mini logo for sidebar mini 50x50 pixels -->
                                <span class="logo-mini"><img src="/assets/img/logo.png"></span>
                                <!-- logo for regular state and mobile devices -->
                                <span class="logo-lg"><img src="/assets/img/logo.png"></span>
                                            </a>   
                         
                <nav class="navbar navbar-static-top" role="navigation">
                    <!-- Sidebar toggle button-->
                        <a href="#" class="sidebar-toggle visible-xs-block" data-toggle="offcanvas" role="button">
                            <span class="sr-only">Toggle side menu</span>
                            <i class="fa fa-chevron-circle-right"></i>
                        </a>
                                        
                    <div class="navbar-header">
                        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse">
                            <span class="sr-only">Toggle side menu</span>
                            <i class="fa fa-chevron-circle-down"></i>
                        </button>
                    </div>
            
                    <!-- Collect the nav links, forms, and other content for toggling -->
                    <div class="collapse navbar-collapse pull-left" id="navbar-collapse">
                        <ul class="nav navbar-nav">                            
                                    <li class="active"><a href="/blog">Blog</a></li>
        <li><a href="/docs">Documentation</a></li>
        <li><a href="/dsl">Reference</a></li>
        <li><a href="/addins">Addins</a></li>
        <li><a href="/api">API</a></li>
        <li><a href="/faq">FAQ</a></li>
        <li><a href="https://github.com/cake-build/cake"><i class="fa fa-github"></i> Source</a></li>
 
                        </ul>       
                    </div>
                    <!-- /.navbar-collapse -->
                
                    <!-- Navbar Right Menu -->
                </nav>
            </header>
            
            <!-- Left side column. contains the logo and sidebar -->
            <aside class="main-sidebar ">
                <section class="infobar" data-spy="affix" data-offset-top="60" data-offset-bottom="200"> 
                    	
        <div><p><a href="https://github.com/cake-build/website/blob/develop/input/blog/2017-01-25-cake-paket.md"><i class="fa fa-pencil-square" aria-hidden="true"></i> Edit Content</a></p></div>
    <div id="infobar-headings"></div>

                </section>
                <section class="sidebar">    
                                     
                    

                    <ul class="sidebar-menu">
                        

        <li class="header"><i class="fa fa-bookmark"></i> Categories</li>    
            <li><a href="/blog/Addins">Addins</a></li>
            <li><a href="/blog/Announcement">Announcement</a></li>
            <li><a href="/blog/How-Tos">How To's</a></li>
            <li><a href="/blog/Infrastructure">Infrastructure</a></li>
            <li><a href="/blog/News">News</a></li>
            <li><a href="/blog/Release-Notes">Release Notes</a></li>
    
    <li class="header"><i class="fa fa-calendar"></i> Archive</li>    
        <li><a href="/blog/archive/2019/04">April, 2019</a></li>
        <li><a href="/blog/archive/2019/01">January, 2019</a></li>
        <li><a href="/blog/archive/2018/12">December, 2018</a></li>
        <li><a href="/blog/archive/2018/08">August, 2018</a></li>
        <li><a href="/blog/archive/2018/07">July, 2018</a></li>
        <li><a href="/blog/archive/2018/06">June, 2018</a></li>
        <li><a href="/blog/archive/2018/05">May, 2018</a></li>
        <li><a href="/blog/archive/2018/04">April, 2018</a></li>
        <li><a href="/blog/archive/2018/03">March, 2018</a></li>
        <li><a href="/blog/archive/2018/02">February, 2018</a></li>
        <li><a href="/blog/archive/2018/01">January, 2018</a></li>
        <li><a href="/blog/archive/2017/12">December, 2017</a></li>
        <li><a href="/blog/archive/2017/11">November, 2017</a></li>
        <li><a href="/blog/archive/2017/10">October, 2017</a></li>
        <li><a href="/blog/archive/2017/09">September, 2017</a></li>
        <li><a href="/blog/archive/2017/08">August, 2017</a></li>
        <li><a href="/blog/archive/2017/07">July, 2017</a></li>
        <li><a href="/blog/archive/2017/06">June, 2017</a></li>
        <li><a href="/blog/archive/2017/05">May, 2017</a></li>
        <li><a href="/blog/archive/2017/04">April, 2017</a></li>
        <li><a href="/blog/archive/2017/03">March, 2017</a></li>
        <li><a href="/blog/archive/2017/01">January, 2017</a></li>
        <li><a href="/blog/archive/2016/12">December, 2016</a></li>
        <li><a href="/blog/archive/2016/11">November, 2016</a></li>
        <li><a href="/blog/archive/2016/10">October, 2016</a></li>
        <li><a href="/blog/archive/2016/09">September, 2016</a></li>
        <li><a href="/blog/archive/2016/08">August, 2016</a></li>
        <li><a href="/blog/archive/2016/07">July, 2016</a></li>
        <li><a href="/blog/archive/2016/06">June, 2016</a></li>
        <li><a href="/blog/archive/2016/05">May, 2016</a></li>
        <li><a href="/blog/archive/2016/04">April, 2016</a></li>
        <li><a href="/blog/archive/2016/03">March, 2016</a></li>
        <li><a href="/blog/archive/2016/02">February, 2016</a></li>
        <li><a href="/blog/archive/2016/01">January, 2016</a></li>
        <li><a href="/blog/archive/2015/12">December, 2015</a></li>
        <li><a href="/blog/archive/2015/11">November, 2015</a></li>
        <li><a href="/blog/archive/2015/10">October, 2015</a></li>
        <li><a href="/blog/archive/2015/09">September, 2015</a></li>
        <li><a href="/blog/archive/2015/08">August, 2015</a></li>
        <li><a href="/blog/archive/2015/07">July, 2015</a></li>
    
        <li class="header"><i class="fa fa-user"></i> Authors</li>    
            <li><a href="/blog/author/agc93">agc93</a></li>
            <li><a href="/blog/author/daveaglick">daveaglick</a></li>
            <li><a href="/blog/author/devlead">devlead</a></li>
            <li><a href="/blog/author/gep13">gep13</a></li>
            <li><a href="/blog/author/jericho">jericho</a></li>
            <li><a href="/blog/author/Larz-White">Larz White</a></li>
            <li><a href="/blog/author/mholo65">mholo65</a></li>
            <li><a href="/blog/author/Pascal-Berger">Pascal Berger</a></li>
            <li><a href="/blog/author/patriksvensson">patriksvensson</a></li>
            <li><a href="/blog/author/phillipsj">phillipsj</a></li>
            <li><a href="/blog/author/RLittlesII">RLittlesII</a></li>

                    </ul>
                            
                </section>                
            </aside>
            
            <!-- Content Wrapper. Contains page content -->
            <div class="content-wrapper">
                



		<section class="content-header">
			<h1>Cake.Paket - An Addin and Module to Add Support for Paket in Cake</h1>
		</section>
	<section class="content">
		



<dl class="dl-horizontal" style="margin-bottom: 12px;">
    <dt style="text-align: left;"><i class="fa fa-calendar"></i> Published</dt>
    <dd>Wednesday, January 25, 2017</dd>
        <dt style="text-align: left;"><i class="fa fa-bookmark"></i> Category</dt>
        <dd><a href="/blog/Addins">Addins</a></dd>
            <dt style="text-align: left;"><i class="fa fa-user"></i> Author</dt>
        <dd><a href="/blog/author/Larz-White">Larz White</a></dd>
</dl>


<p>Most .NET developers are comfortable using <a href="https://www.nuget.org/">NuGet</a> to manage their dependencies. This is probably why Cake has such great support for it. Unfortunately, <a href="https://fsprojects.github.io/Paket/">Paket</a> which is a popular alternative has very little support. Luckily, with the help of <a href="https://github.com/larzw/Cake.Paket">Cake.Paket</a> you can make Paket a first class citizen in your Cake scripts!</p>
<!--excerpt-->
<h3 id="paket">Paket</h3>
<blockquote class="blockquote">
<p>Paket is a dependency manager for .NET and mono projects, which is designed to work well with NuGet packages and also enables referencing files directly from Git repositories or any HTTP resource. It enables precise and predictable control over what packages the projects within your application reference. ~ Paket Website</p>
</blockquote>
<p>Although this is not a tutorial on Paket, a brief discussion is necessary.</p>
<p>Dependencies such as NuGet packages are handled external to Visual Studio by specifying them in the <em>paket.dependencies</em> file. This is analogous to the <em>packages.config</em> file which is updated when you install NuGet packages inside Visual Studio. For example, to install <em>xUnit</em></p>
<pre><code># paket.dependencies

source https://nuget.org/api/v2
nuget xunit # Required in order to run the unit tests.
</code></pre>
<p>and then run <code>paket.exe install</code>.</p>
<p>For the above example we used <em>paket.exe</em> which is analogous to <em>nuget.exe</em>. In fact, a lot of the Paket commands are similar to NuGet commands: <code>paket.exe restore</code>, <code>paket.exe pack</code>, and <code>paket.exe push</code>. For a complete list of Paket commands see Paket's website.</p>
<h3 id="cake.paket-cake-addin">Cake.Paket: Cake Addin</h3>
<p><a href="https://www.nuget.org/packages/Cake.Paket/">Cake.Paket</a> is an addin that provides support for Paket commands such as <em>restore</em>, <em>pack</em>, and <em>push</em>. For example,</p>
<pre><code class="language-csharp">// Required in order to run the unit tests.
#tool nuget:?package=xunit.runner.console

// Required in order to use the addin Cake.Paket because it downloads paket.exe.
#tool nuget:?package=Paket

// Required in order to use PaketRestore, PaketPack, and PaketPush.
#addin nuget:?package=Cake.Paket

// Restores xUnit dependency specified in the paket.dependencies file.
Task("Paket-Restore")
    .Does(() =&gt;
{
    PaketRestore();
});

Task("Build")
    .IsDependentOn("Paket-Restore")
    .Does(() =&gt;
{
    MSBuild("./src/Cake.sln");
});

Task("Run-Unit-Tests")
    .IsDependentOn("Build")
    .Does(() =&gt;
{
    XUnit2("./src/**/bin/Release/*.Tests.dll");
});

// Creates a NuGet package.
Task("Paket-Pack")
    .IsDependentOn("Build")
    .Does(() =&gt;
{
    PaketPack("./NuGet");
});

// Pushes the package to a NuGet feed.
Task("Paket-Push")
    .IsDependentOn("Paket-Pack")
    .Does(() =&gt;
{
    PaketPush("./NuGet/foo.nupkg", new <a href="/api/Cake.Paket.Addin.Push/PaketPushSettings">PaketPushSettings</a> { ApiKey = "00000000-0000-0000-0000-000000000000" });
});
</code></pre>
<p>where the script can be run using the Cake teams bootstrapper scripts <a href="https://github.com/cake-build/example/blob/master/build.ps1">build.ps1</a> and <a href="https://github.com/cake-build/example/blob/master/build.sh">build.sh</a>.</p>
<h3 id="cake.paket.module-cake-module">Cake.Paket.Module: Cake Module</h3>
<p>The astute reader will notice we used NuGet to manage our dependencies in the previous Cake script because we used the preprocessor directives <code>#tool nuget:?package=foo</code> and <code>#addin nuget:?package=bar</code>. Wouldn't it be great if we could use Paket instead? That's where <a href="https://www.nuget.org/packages/Cake.Paket.Module/">Cake.Paket.Module</a> comes to the rescue! The Cake script above can be rewritten using the syntax <code>#tool paket:?package=foo</code> and <code>#addin paket:?package=bar</code></p>
<pre><code class="language-csharp">// Required in order to run the unit tests.
#tool paket:?package=xunit.runner.console

// Required in order to use PaketPack and PaketPush.
#addin paket:?package=Cake.Paket

// Paket restore is handled by the bootstrapper.

Task("Build")
    .Does(() =&gt;
{
    MSBuild("./src/Cake.sln");
});

Task("Run-Unit-Tests")
    .IsDependentOn("Build")
    .Does(() =&gt;
{
    XUnit2("./src/**/bin/Release/*.Tests.dll");
});

// Creates a NuGet package.
Task("Paket-Pack")
    .IsDependentOn("Build")
    .Does(() =&gt;
{
    PaketPack("./NuGet");
});

// Pushes the package to a NuGet feed.
Task("Paket-Push")
    .IsDependentOn("Paket-Pack")
    .Does(() =&gt;
{
    PaketPush("./NuGet/foo.nupkg", new <a href="/api/Cake.Paket.Addin.Push/PaketPushSettings">PaketPushSettings</a> { ApiKey = "00000000-0000-0000-0000-000000000000" });
});
</code></pre>
<p>where the Cake script can be run using the <strong>modified bootstrapper scripts</strong> <a href="https://github.com/larzw/Cake.Paket/blob/master/build.ps1">build.ps1</a> and/or <a href="https://github.com/larzw/Cake.Paket/blob/master/build.sh">build.sh</a> and the following <em>paket.dependencies</em> file</p>
<pre><code># paket.dependencies

source https://nuget.org/api/v2
nuget xunit # Required in order to run the unit tests.

group tools
    source https://nuget.org/api/v2
    nuget Cake # Required in order to download Cake.exe.
    nuget xunit.runner.console # Required in order to run the unit tests.

group addins
    source https://nuget.org/api/v2
    nuget Cake.Paket # Required in order to use PaketPack and PaketPush.

group modules
    source https://nuget.org/api/v2
    nuget Cake.Paket # Required in order to use paket in the preprocessor directives.
</code></pre>
<p>In the above <em>paket.dependencies</em> file we used <a href="https://fsprojects.github.io/Paket/groups.html">Dependency Groups</a> to organize the file. It's important to note that you can organize the file however you want! For example, you don't need to use <em>tools</em>, <em>addins</em> and <em>modules</em> for the default group names. You can set them to whatever you want. See the command line arguments in the <strong>modified bootstrapper scripts</strong> <a href="https://github.com/larzw/Cake.Paket/blob/master/build.ps1">build.ps1</a> and/or <a href="https://github.com/larzw/Cake.Paket/blob/master/build.sh">build.sh</a> for more detail. Additionally, the dependencies don't have to be in the same group! If you need to specify a dependency in another group just include it in the URI <code>#tool paket:?package=foo&amp;group=bar</code>.</p>
<p>A few side notes are in order. First, if you need to specify a package without a group (Paket calls it the <em>main</em> group) use <code>#tool paket:?package=foo&amp;group=main</code>. Second, a version number in the URI is not allowed. This is because version's are handled in the <em>paket.dependencies</em> file.</p>
<h3 id="conclusion">Conclusion</h3>
<p>The Cake.Paket addin and module make Paket a first class citizen in your Cake scripts. The addin provides support for common Paket commands such as <em>restore</em>, <em>pack</em>, and <em>push</em> while the module allows you to use Paket for the dependency management system in your Cake scripts. Checkout <a href="https://github.com/larzw/Cake.Paket.Example">Cake.Paket.Example</a> for a working example of how to use the addin and module as well as the <a href="https://cakebuild.net/dsl/paket/">API</a> documentation on Cake's website.</p>
<hr>
<p>My name is Larz White. My educational background is in computational nuclear physics. This is how I developed a passion for computing. For the past few years I've been working in industry as a C# developer. You can find me on <a href="https://github.com/larzw">GitHub</a> as larzw.</p>


<hr>

<ul class="share-buttons">
  <li><a href="https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Fcakebuild.net%2Fblog%2F2017%2F01%2Fcake-paket&amp;t=Cake.Paket%20-%20An%20Addin%20and%20Module%20to%20Add%20Support%20for%20Paket%20in%20Cake" title="Share on Facebook" target="_blank"><img alt="Share on Facebook" src="/assets/img/social_flat_rounded_rects_svg/Facebook.svg"></a></li>
  <li><a href="https://twitter.com/intent/tweet?source=http%3A%2F%2Fcakebuild.net%2Fblog%2F2017%2F01%2Fcake-paket&amp;text=Cake.Paket%20-%20An%20Addin%20and%20Module%20to%20Add%20Support%20for%20Paket%20in%20Cake:%20http%3A%2F%2Fcakebuild.net%2Fblog%2F2017%2F01%2Fcake-paket&amp;via=cakebuildnet" target="_blank" title="Tweet"><img alt="Tweet" src="/assets/img/social_flat_rounded_rects_svg/Twitter.svg"></a></li>
  <li><a href="http://www.reddit.com/submit?url=http%3A%2F%2Fcakebuild.net%2Fblog%2F2017%2F01%2Fcake-paket&amp;title=Cake.Paket%20-%20An%20Addin%20and%20Module%20to%20Add%20Support%20for%20Paket%20in%20Cake" target="_blank" title="Submit to Reddit"><img alt="Submit to Reddit" src="/assets/img/social_flat_rounded_rects_svg/Reddit.svg"></a></li>
  <li><a href="http://www.linkedin.com/shareArticle?mini=true&amp;url=http%3A%2F%2Fcakebuild.net%2Fblog%2F2017%2F01%2Fcake-paket&amp;title=Cake.Paket%20-%20An%20Addin%20and%20Module%20to%20Add%20Support%20for%20Paket%20in%20Cake&amp;summary=&amp;source=http%3A%2F%2Fcakebuild.net%2Fblog%2F2017%2F01%2Fcake-paket" target="_blank" title="Share on LinkedIn"><img alt="Share on LinkedIn" src="/assets/img/social_flat_rounded_rects_svg/LinkedIn.svg"></a></li>
  <li><a href="mailto:?subject=Cake.Paket%20-%20An%20Addin%20and%20Module%20to%20Add%20Support%20for%20Paket%20in%20Cake&amp;body=:%20http%3A%2F%2Fcakebuild.net%2Fblog%2F2017%2F01%2Fcake-paket" target="_blank" title="Send email"><img alt="Send email" src="/assets/img/social_flat_rounded_rects_svg/Email.svg"></a></li>
</ul>

	</section>
                
            </div>           
            
            <!-- Footer -->
            <footer class="main-footer">
            </footer>
            
        </div>
        <div class="wrapper bottom-wrapper">
            <footer class="bottom-footer">
                <p class="text-muted">
    <a href="https://github.com/cake-build/cake"><i class="fa fa-github"></i> GitHub</a> |
    <a href="https://twitter.com/cakebuildnet"><i class="fa fa-twitter"></i> Twitter</a> |
    <a href="https://gitter.im/cake-build/cake"><i class="fa fa-comment"></i> Gitter</a>
    <br>
    Copyright © <a href="http://dotnetfoundation.org">.NET Foundation</a> and contributors.
    <br>
    Generated by <a href="http://wyam.io">Wyam</a>
</p>

<script>
    anchors.add();
</script>
            </footer>
        </div>
        <a href="javascript:" id="return-to-top"><i class="fa fa-chevron-up"></i></a>
        <!-- Gitter -->
<script>
    ((window.gitter = {}).chat = {}).options = {
        room: 'cake-build/cake'
    };
</script>
<script src="https://sidecar.gitter.im/dist/sidecar.v1.js" async="" defer=""></script>

<!-- Google Analytics -->
<script>
    (function (i, s, o, g, r, a, m) {
        i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
            (i[r].q = i[r].q || []).push(arguments)
        }, i[r].l = 1 * new Date(); a = s.createElement(o),
            m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
    })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');
    ga('create', 'UA-60516413-1', 'auto');
    ga('send', 'pageview');
</script>
        <script>           
            // Close the sidebar if we select an anchor link
            $(".main-sidebar a[href^='#']:not('.expand')").click(function(){
                $(document.body).removeClass('sidebar-open');
            });
            
            $(document).ready(function() {
                mermaid.initialize(
                {
                    flowchart:
                    {
                        useMaxWidth: false
                    },
					startOnLoad: false,
					cloneCssStyles: false
                });     
                mermaid.init(undefined, ".mermaid");

                // Remove the max-width setting that Mermaid sets
                var mermaidSvg = $('.mermaid svg');
                mermaidSvg.addClass('img-responsive');
                mermaidSvg.css('max-width', '');

                // Make it scrollable
				var target = document.querySelector(".mermaid svg");
				if(target !== null)
				{
					var panZoom = window.panZoom = svgPanZoom(target, {
						zoomEnabled: true,
						controlIconsEnabled: true,
						fit: true,
						center: true,
                        maxZoom: 20,
                        zoomScaleSensitivity: 0.6
					});			                          

                    // Do the reset once right away to fit the diagram
                    panZoom.resize();
                    panZoom.fit();
                    panZoom.center();
                    
                    $(window).resize(function(){
                        panZoom.resize();
                        panZoom.fit();
                        panZoom.center();
                    });
				}
                
                $('pre code').each(function(i, block) {
                    hljs.highlightBlock(block);
                });  
            });

            hljs.initHighlightingOnLoad();

            // Back to top
            $(window).scroll(function() {
                if ($(this).scrollTop() >= 200) {        // If page is scrolled more than 50px
                    $('#return-to-top').fadeIn(1000);    // Fade in the arrow
                } else {
                    $('#return-to-top').fadeOut(1000);   // Else fade out the arrow
                }
            });
            $('#return-to-top').click(function() {      // When arrow is clicked
                $('body,html').animate({
                    scrollTop : 0                       // Scroll to top of body
                }, 500);
            });
        </script>
    
</body></html>